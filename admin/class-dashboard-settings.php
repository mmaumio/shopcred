<?php
/**
 * Dashboard Settings Page
 */

if ( ! defined( 'ABSPATH' ) ) {
	exit;
}

class ShopCred_Dashboard {

	/**
	 * User selected Settings Value
	 * @var array
	 * @since 1.0.0
	 */
	private $save_dashboard_settings;

	/**
	 * Settings values from database
	 * @var array
	 * @since 1.0.0
	 */
	private $get_dashboard_settings;

	/**
	 * Constructor of the class
	 * @param
	 * @return void
	 * @since 1.0.0
	 */
	public function __construct() {
		add_action( 'admin_menu', array( $this, 'create_admin_menu' ) );
		add_action( 'admin_enqueue_scripts', array( $this, 'enqueue_admin_scripts' ) );
		add_action( 'wp_ajax_spc_ajax_save_elements_setting', array( $this, 'ajax_save_elements_setting_function' ) );
	}
	

	/**
	 * Loading required scripts
	 * @param
	 * @return void
	 * @since 1.0.0
	 */	
	public function enqueue_admin_scripts( $hook ) {

        wp_enqueue_style( 'spc-notice-css', SPC_ADMIN_URL . 'assets/css/admin-notice.css' );

		if( isset( $hook ) && $hook == 'toplevel_page_spc-settings' ) {
			wp_enqueue_style( 'spc-admin-css', SPC_ADMIN_URL . 'assets/css/admin-style.css' );
			wp_enqueue_script( 'spc-admin-js', SPC_ADMIN_URL . 'assets/js/admin-script.js', array( 'jquery' ), SPC_VER, true );
		}

	}

	/**
	 * Create an admin menu.
	 * @param
	 * @return void
	 * @since 1.0.0
	 */
	public function create_admin_menu() {

		$title = __( 'ShopCred', 'shop-cred' );
		add_menu_page( $title, $title, 'manage_options', 'spc-settings', array( $this, 'admin_settings_page' ), SPC_ADMIN_URL . 'assets/img/dashboard-icon.svg', 59 );
		
	}


	/**
	 * Create settings page.
	 * @param
	 * @return void
	 * @since 1.0.0
	 */
	public function admin_settings_page() {

		$js_info = array(
			'ajaxurl' => admin_url( 'admin-ajax.php' ),
			'ajax_nonce' => wp_create_nonce( 'spc_settings_nonce_action' )
		);
		wp_localize_script( 'spc-admin-js', 'js_spc_settings', $js_info );
		
		
		$this->get_dashboard_settings = get_option( 'spc_save_settings', ShopCred_Manager::$all_feature_settings );
	    $spc_new_settings = array_diff_key( ShopCred_Manager::$all_feature_settings, $this->get_dashboard_settings );

	    if( ! empty( $spc_new_settings ) ) {
			$spc_updated_settings = array_merge( $this->get_dashboard_settings, $spc_new_settings );
			update_option( 'spc_save_settings', $spc_updated_settings );
		}

		$this->get_dashboard_settings = get_option( 'spc_save_settings', ShopCred_Manager::$all_feature_settings );
        
        ?>
        <div class="spc-elements-dashboard-wrapper">
			<div class="spc-elements-dashboard-shape-3">
				<svg width="306" height="388" viewBox="0 0 306 388" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M63.5062 387.98C52.6227 388.197 41.9192 386.677 31.6653 382.442C25.459 379.945 19.7025 376.47 14.8454 371.041C12.3269 368.218 10.2581 365.069 8.72904 361.377C7.19995 357.577 5.76082 353.885 4.23173 350.084C2.07303 344.655 0.903727 338.9 0.543943 333.037C0.184159 327.499 -0.175626 321.961 0.0942124 316.423C0.543943 306.651 2.43281 297.204 5.40103 288.083C7.46979 281.677 10.2581 275.704 13.2263 269.841C15.2951 265.715 17.3639 261.697 19.4326 257.571C25.3691 245.518 33.3743 235.746 42.4588 227.168C50.464 219.567 59.0989 213.16 67.6437 206.645C91.0297 189.163 114.326 171.681 137.802 154.417C157.23 140.084 175.579 123.905 192.669 105.663C204.991 92.4154 217.224 79.1682 229.547 65.9211C240.16 54.5198 251.134 43.4443 263.007 33.8889C276.319 23.2477 290.08 13.6924 304.922 6.74302C312.387 3.15976 320.033 0.662336 328.128 0.119418C335.953 -0.4235 343.508 0.879503 350.794 4.13701C359.789 8.04602 366.265 15.6469 371.392 24.9851C377.238 35.5177 381.646 46.8103 384.974 58.8631C389.381 74.9335 391 91.5468 391 108.377C391 117.824 389.201 126.945 386.683 135.957C383.624 147.142 379.307 157.566 374 167.447C363.476 186.992 350.704 204.148 336.043 219.458C323.271 232.705 309.509 244.107 294.938 254.096C279.287 264.738 263.277 274.727 247.266 284.391C230.446 294.598 213.716 305.022 197.436 316.641C179.087 329.671 160.558 342.375 142.209 355.296C139.241 357.359 136.273 359.64 133.394 361.811C123.14 369.304 112.617 376.036 101.194 380.488C92.8287 383.745 84.3737 386.46 75.559 387.22C71.4215 387.654 67.4639 387.763 63.5062 387.98Z" fill="#FFDB5A"/>
					<mask id="mask0_324_7721" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="391" height="388">
					<path d="M63.5062 387.98C52.6227 388.197 41.9192 386.677 31.6653 382.442C25.459 379.945 19.7025 376.47 14.8454 371.041C12.3269 368.218 10.2581 365.069 8.72904 361.377C7.19995 357.577 5.76082 353.885 4.23173 350.084C2.07303 344.655 0.903727 338.9 0.543943 333.037C0.184159 327.499 -0.175626 321.961 0.0942124 316.423C0.543943 306.651 2.43281 297.204 5.40103 288.083C7.46979 281.677 10.2581 275.704 13.2263 269.841C15.2951 265.715 17.3639 261.697 19.4326 257.571C25.3691 245.518 33.3743 235.746 42.4588 227.168C50.464 219.567 59.0989 213.16 67.6437 206.645C91.0297 189.163 114.326 171.681 137.802 154.417C157.23 140.084 175.579 123.905 192.669 105.663C204.991 92.4154 217.224 79.1682 229.547 65.9211C240.16 54.5198 251.134 43.4443 263.007 33.8889C276.319 23.2477 290.08 13.6924 304.922 6.74302C312.387 3.15976 320.033 0.662336 328.128 0.119418C335.953 -0.4235 343.508 0.879503 350.794 4.13701C359.789 8.04602 366.265 15.6469 371.392 24.9851C377.238 35.5177 381.646 46.8103 384.974 58.8631C389.381 74.9335 391 91.5468 391 108.377C391 117.824 389.201 126.945 386.683 135.957C383.624 147.142 379.307 157.566 374 167.447C363.476 186.992 350.704 204.148 336.043 219.458C323.271 232.705 309.509 244.107 294.938 254.096C279.287 264.738 263.277 274.727 247.266 284.391C230.446 294.598 213.716 305.022 197.436 316.641C179.087 329.671 160.558 342.375 142.209 355.296C139.241 357.359 136.273 359.64 133.394 361.811C123.14 369.304 112.617 376.036 101.194 380.488C92.8287 383.745 84.3737 386.46 75.559 387.22C71.4215 387.654 67.4639 387.763 63.5062 387.98Z" fill="black"/>
					</mask>
					<g mask="url(#mask0_324_7721)">
					<path d="M422.474 158.826C421.219 158.91 420.299 159.077 419.378 158.994C416.115 158.91 412.851 158.743 409.588 158.659C391.263 158.408 373.272 160.835 355.784 166.106C331.267 173.553 307.503 182.925 285.58 196.397C250.77 217.902 220.647 244.595 196.38 277.731C180.482 299.486 165.42 321.912 151.279 344.839C138.727 365.089 125.423 384.836 110.696 403.58C106.679 408.768 102.579 413.872 97.8095 418.391C95.5502 420.566 93.0399 422.491 90.5296 424.332C89.2745 425.252 87.6846 425.922 86.1784 426.424C82.413 427.595 79.1496 426.34 77.4761 422.742C76.5556 420.817 75.8862 418.558 75.6352 416.466C75.2168 413.203 75.0495 409.939 75.2168 406.676C77.0577 379.816 83.3334 353.96 94.6297 329.443C101.575 314.381 110.445 300.407 120.235 287.019C137.054 264.008 156.55 243.507 177.888 224.68C206.003 199.828 237.215 179.662 270.936 163.345C289.094 154.559 307.335 146.191 325.577 137.572C339.216 131.129 352.688 124.435 365.491 116.57C375.448 110.461 384.904 103.683 393.187 95.3995C396.618 91.9687 399.882 88.287 402.559 84.1868C404.986 80.5051 406.994 76.5723 407.747 72.1374C408.166 69.6271 408.166 67.1168 407.161 64.6065C406.241 62.1799 404.567 60.4227 402.225 59.3349C399.965 58.2471 397.539 57.8287 395.028 57.6614C387.497 57.3267 380.301 58.9165 373.272 61.5105C363.65 65.1086 354.696 70.0455 345.827 75.1498C328.255 85.2746 311.519 96.7383 295.286 108.955C276.124 123.431 256.376 136.903 235.959 149.454C224.83 156.316 213.869 163.345 202.74 170.123C178.474 184.933 156.467 202.589 136.635 223.09C119.649 240.662 104.169 259.405 89.8602 279.153C82.0783 289.78 74.6311 300.658 67.1002 311.536C53.963 330.363 40.4074 348.939 25.513 366.428C16.6433 376.887 7.27149 386.928 -3.27175 395.798C-10.3006 401.739 -17.6641 407.178 -25.7807 411.446C-28.7931 413.035 -31.8054 414.374 -35.1525 415.044C-37.4118 415.462 -39.671 415.629 -41.9303 415.127C-45.6121 414.291 -48.3734 412.199 -50.2143 409.019C-52.1388 405.756 -52.8919 402.158 -53.0593 398.476C-53.394 391.614 -51.7204 385.088 -49.2101 378.728C-46.1978 370.946 -41.9303 363.834 -37.1607 357.056C-31.3034 348.772 -24.6929 341.157 -17.4968 334.045C8.02458 308.775 32.0397 282.165 55.4691 254.971C71.284 236.729 88.1867 219.575 106.595 204.012C122.912 190.205 140.401 177.905 158.308 166.357C191.276 145.187 224.998 125.439 259.723 107.282C276.208 98.6629 292.441 89.6258 308.089 79.5846C318.046 73.1415 327.752 66.3637 336.622 58.4145C341.392 54.147 345.743 49.5448 349.508 44.4405C353.943 38.4158 357.374 31.889 359.298 24.6092C360.637 19.4212 360.721 14.317 359.131 9.12901C357.123 1.59813 352.019 -2.5857 344.404 -3.33879C338.212 -4.0082 332.271 -2.9204 326.497 -0.661139C319.385 2.10019 313.109 6.28401 307.084 10.9699C298.884 17.3293 291.353 24.4418 283.906 31.7217C270.267 45.0262 257.548 59.2512 244.829 73.4762C236.712 82.5133 228.596 91.634 220.312 100.587C204.999 116.904 188.264 131.715 170.692 145.605C146.091 165.018 120.904 183.595 95.2992 201.669C83.8355 209.785 71.6187 216.73 59.4019 223.759C48.1893 230.286 36.893 236.729 26.1824 244.093C16.0575 251.121 6.43472 258.82 -1.76558 268.108C-9.21278 276.475 -15.4885 285.68 -19.5887 296.223C-21.5132 301.076 -22.9357 306.097 -23.1031 311.369C-23.1868 314.046 -22.9357 316.724 -22.099 319.318C-21.5969 320.824 -20.8438 322.163 -19.1703 322.916C-19.5887 322.916 -19.9234 323.083 -20.3418 323C-21.5132 322.665 -22.2663 321.744 -22.6847 320.657C-23.3541 318.732 -24.0235 316.724 -24.2745 314.716C-24.8603 309.611 -23.9398 304.758 -22.4337 299.905C-19.4213 290.198 -14.4844 281.496 -8.37601 273.463C0.493694 261.748 11.3716 252.293 23.3374 243.842C33.8806 236.394 45.0096 229.784 56.2222 223.425C71.4514 214.722 86.4295 205.685 100.571 195.309C109.859 188.531 119.063 181.67 128.351 174.808C144.417 162.926 160.399 150.877 175.88 138.158C196.966 120.921 216.212 101.843 234.286 81.4255C246.252 67.7862 258.552 54.4817 270.936 41.1771C280.308 31.0523 290.349 21.5968 300.976 12.7271C305.997 8.54328 311.185 4.69416 316.791 1.43077C322.648 -1.91629 328.757 -4.51026 335.534 -5.34702C339.132 -5.7654 342.731 -5.84908 346.329 -5.17967C353.441 -3.84085 358.294 0.259303 360.721 7.0371C363.148 13.6475 362.98 20.258 360.972 26.9521C358.713 34.483 354.947 41.2608 350.178 47.4528C344.906 54.2306 338.714 60.0043 332.104 65.3596C321.309 74.062 309.678 81.5929 297.796 88.789C283.571 97.4077 268.844 105.19 254.117 112.972C220.563 130.711 187.845 149.873 155.965 170.541C138.644 181.754 121.825 193.803 106.093 207.275C89.1908 221.751 73.627 237.566 58.8999 254.301C46.1811 268.777 33.3786 283.17 20.4924 297.562C9.27972 310.113 -2.76969 321.828 -14.6518 333.71C-21.3459 340.404 -27.789 347.433 -33.5626 355.048C-39.5037 362.997 -44.6916 371.365 -48.1224 380.82C-49.7959 385.59 -51.051 390.443 -51.3021 395.463C-51.4694 398.392 -51.2184 401.321 -50.3816 404.166C-48.206 411.78 -42.516 415.211 -34.9015 413.119C-32.1401 412.366 -29.4625 411.195 -26.9522 409.939C-17.6641 405.17 -9.54749 398.727 -1.76558 391.782C9.78178 381.573 19.7393 370.193 29.3621 358.478C44.0891 340.488 57.4774 321.493 70.6146 302.331C82.3293 285.094 94.4624 268.191 107.6 252.042C123.582 232.462 140.987 214.22 160.148 197.652C174.039 185.686 189.184 175.478 204.664 165.771C224.161 153.555 243.574 141.254 262.903 128.703C271.438 123.096 279.722 116.988 287.922 110.88C302.064 100.42 316.289 90.0442 331.267 80.7561C340.806 74.8987 350.512 69.2087 360.637 64.2718C367.164 61.0921 373.775 58.2471 380.887 56.6573C386.493 55.3184 392.183 54.649 398.041 55.6531C398.71 55.7368 399.38 55.9042 399.965 56.0715C408.751 58.2471 410.843 65.1086 410.174 71.3006C409.672 75.8192 407.915 80.003 405.655 83.8521C401.974 89.9605 397.288 95.2321 392.016 100.085C383.816 107.7 374.695 114.143 365.072 120C352.437 127.615 339.3 134.142 325.995 140.417C307.001 149.371 287.922 158.241 269.095 167.361C247.841 177.737 227.341 189.536 208.262 203.593C178.39 225.516 151.446 250.536 128.602 279.906C120.318 290.617 112.62 301.746 105.759 313.377C94.3787 332.706 86.5968 353.374 81.9109 375.297C79.9864 384.167 78.3965 393.12 77.7271 402.241C77.3087 407.345 76.974 412.366 77.9781 417.47C78.3128 419.06 78.7312 420.566 79.4843 421.989C80.8231 424.583 82.915 425.503 85.6764 424.499C87.2662 423.997 88.7724 423.16 90.1112 422.24C93.4583 419.981 96.4706 417.219 98.9809 414.207C104.085 408.099 109.189 401.99 113.959 395.631C127.849 377.389 140.233 358.144 152.199 338.647C165.085 317.812 178.808 297.478 193.117 277.647C211.777 251.707 234.286 229.7 259.723 210.455C290.851 187.025 325.493 171.21 363.064 161.253C374.779 158.157 386.661 156.567 398.794 156.316C406.492 156.149 414.19 156.734 421.721 158.324C421.805 158.324 421.888 158.492 422.474 158.826Z" fill="black"/>
					</g>
				</svg>
			</div>
            <form action="" method="POST" id="spc-elements-settings" name="spc-elements-settings">
				<div class="spc-elements-dashboard-shape-1">
					<svg width="114" height="92" viewBox="0 0 114 92" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M34.9082 16.242C54.0212 11.1207 73.6671 22.4632 78.7884 41.5763C83.9097 60.6893 71.5957 76.7096 52.4827 81.8309C33.3696 86.9523 16.5853 87.4929 11.4639 68.3798C6.34262 49.2668 15.7951 21.3634 34.9082 16.242Z" fill="#FFA9D9"/>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M85.7945 66.8612C86.8375 68.1436 87.864 69.4227 88.9441 70.6768C89.8597 71.7384 91.4659 71.8549 92.5275 70.9393C93.589 70.0238 93.7063 68.4199 92.7907 67.3584C91.7414 66.1407 90.7457 64.8982 89.731 63.6529C88.8452 62.5649 87.245 62.4021 86.157 63.2879C85.0715 64.173 84.9087 65.7733 85.7945 66.8612Z" fill="#FFA9D9"/>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M91.7677 54.8846C96.879 55.7659 102.031 56.3891 107.158 57.161C108.545 57.3706 109.84 56.4135 110.049 55.0268C110.256 53.6408 109.303 52.3477 107.916 52.1381C102.824 51.3698 97.7084 50.7554 92.6323 49.8778C91.2513 49.6404 89.9355 50.5688 89.6981 51.9498C89.4582 53.3314 90.3867 54.6472 91.7677 54.8846Z" fill="#FFA9D9"/>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M89.2327 36.4553C93.2166 34.67 97.1592 32.7696 101.164 31.0313C102.447 30.4719 103.037 28.9752 102.479 27.689C101.919 26.4033 100.423 25.813 99.1364 26.3707C95.1168 28.1209 91.1571 30.0259 87.1542 31.819C85.875 32.3931 85.302 33.8956 85.8762 35.1748C86.4479 36.4547 87.9535 37.0295 89.2327 36.4553Z" fill="#FFA9D9"/>
					</svg>
				</div>
				<div class="spc-elements-dashboard-shape-2">
					<svg width="131" height="144" viewBox="0 0 131 144" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M112.09 52.2203C112.09 23.3799 81.0606 8.39233e-05 52.2202 8.39233e-05C23.3798 8.39233e-05 0 23.3799 0 52.2203C0 81.0607 10.3314 107.038 39.1718 107.038C68.0122 107.038 112.09 81.0607 112.09 52.2203Z" fill="#70FF7E"/>
						<mask id="mask0_324_7708" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="131" height="144">
						<path d="M104.44 52.2202C104.44 23.3798 81.0606 3.05176e-05 52.2202 3.05176e-05C23.3798 3.05176e-05 0 23.3798 0 52.2202C0 81.0606 91.7942 143.346 120.635 143.346C149.475 143.346 104.44 81.0606 104.44 52.2202Z" fill="#FFCB3C"/>
						</mask>
						<g mask="url(#mask0_324_7708)">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M45.9992 59.2114C42.7712 60.5657 39.1242 60.8354 35.1043 59.6589C21.3773 55.6419 15.7563 44.945 15.0045 32.2022C13.9514 14.2918 22.8866 -7.75624 30.8892 -18.7114C31.8246 -19.9911 33.6208 -20.2694 34.9006 -19.3369C36.1774 -18.4015 36.4586 -16.6053 35.5232 -15.3255C28.1031 -5.16808 19.7561 15.2559 20.7346 31.8637C21.3371 42.1359 25.6527 50.9132 36.7169 54.1527C39.1099 54.8528 41.2877 54.7552 43.2474 54.0666C42.6104 52.7897 42.0021 51.51 41.4254 50.2303C39.1213 45.1057 35.6781 30.8766 36.9636 20.4149C37.9822 12.1369 41.8931 6.20026 49.9617 6.41833C54.5813 6.54172 57.9902 9.33355 60.036 13.9102C62.5582 19.5542 62.9025 28.188 61.1293 36.4661C59.6573 43.3496 56.7362 49.9549 52.6388 54.3966C52.0649 55.0193 51.4681 55.6017 50.8512 56.1411C64.3027 79.9882 88.5803 102.117 113.506 111.542C114.987 112.102 115.733 113.758 115.173 115.241C114.614 116.722 112.955 117.468 111.475 116.908C85.4756 107.078 60.1336 84.0685 45.9992 59.2114ZM48.068 50.8702C47.5802 49.8745 47.1095 48.876 46.6619 47.8775C44.5931 43.2779 41.5058 30.5065 42.6593 21.1151C43.2704 16.1454 44.9662 12.025 49.8097 12.1542C52.1855 12.2173 53.7464 13.8987 54.7965 16.2516C56.191 19.3706 56.6875 23.5999 56.4666 28.1019C56.1194 35.0859 54.0104 42.7298 50.2975 48.1357C49.6117 49.1342 48.8686 50.0553 48.068 50.8702Z" fill="#35312B"/>
						</g>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M52.1099 108.83C52.0823 109.413 52.0879 109.98 52.1154 110.512C52.2091 112.113 53.6971 112.107 53.8128 112.105C54.0553 112.1 55.1356 112.031 55.3946 110.783C55.4111 110.709 55.4497 110.17 55.4607 109.962C55.4828 109.519 55.4937 109.084 55.4331 108.647C55.4882 107.905 55.6095 107.143 55.8409 106.425C56.1771 105.366 56.7227 104.388 57.7092 103.867C59.4728 102.93 61.7929 102.968 63.7328 102.73C64.543 102.631 65.1602 101.956 65.1878 101.14C65.2098 100.324 64.6367 99.6117 63.8321 99.4634C61.4072 99.0148 58.6185 96.8098 56.8439 95.0341C56.2983 94.4885 55.6866 93.189 55.0032 92.3568C54.4521 91.69 53.8404 91.243 53.2617 91.0656C53.0358 90.9967 51.7848 90.7454 51.2226 92.0405C51.0683 92.4042 50.5227 94.3088 50.4731 94.526C50.1755 95.7704 49.7512 96.882 48.919 97.8718C48.1971 98.7299 47.3208 99.4794 46.2681 99.8949C45.8438 100.062 45.4029 100.19 44.962 100.321C44.8077 100.34 44.3723 100.395 44.218 100.447C43.9039 100.552 43.6724 100.716 43.507 100.88C43.1929 101.189 43.0331 101.559 43.0055 101.98C42.9835 102.258 43.0221 102.588 43.2205 102.953C43.3693 103.213 43.7054 103.603 44.3117 103.857C44.9454 104.122 46.3067 104.374 46.5492 104.439C48.2356 104.893 49.889 105.584 51.1841 106.781C51.8289 107.38 51.9776 108.025 52.1099 108.83ZM53.1901 104.143C53.8404 102.795 54.8103 101.661 56.1606 100.946C56.7172 100.649 57.3234 100.423 57.9517 100.248C56.6566 99.3465 55.4551 98.3215 54.5017 97.3714C54.1931 97.0622 53.8569 96.5618 53.4987 96.0123C53.0799 97.4794 52.4626 98.7971 51.4486 100.003C50.8479 100.714 50.17 101.364 49.415 101.905C50.7817 102.447 52.0769 103.171 53.1901 104.143Z" fill="#35312B"/>
					</svg>
				</div>

                <?php wp_nonce_field( 'save_dashboard_settings_nonce_action' ); ?>
                
                <div class="spc-dashboard-header-wrapper">
                    <div class="spc-dashboard-header-left">
                        <div class="spc-logo">
							<img class="spc-logo-img" src="<?php echo SPC_ADMIN_URL . 'assets/img/shopcred-logo-new.svg'; ?>">
                        </div>
                        
                    </div>
                    <div class="spc-dashboard-header-right">
                        <button type="submit" class="spc-btn spc-js-element-save-setting">
                            <?php _e('Save Settings', 'shop-cred'); ?>
                        </button>
                    </div>
                </div>

                <div class="spc-dashboard-tabs-wrapper">
                    <ul class="spc-dashboard-tabs">
                        <li class="spc-tab-btn">
							<a href="#general" class="active">
								<img class="spc-tab-image-normal" src="<?php echo SPC_ADMIN_URL . 'assets/img/general-normal.svg'; ?>">
								<img class="spc-tab-image-active" src="<?php echo SPC_ADMIN_URL . 'assets/img/general-active.svg'; ?>">
								<span><?php _e( 'General', 'shop-cred' ); ?></span>
							</a>
						</li>
                        <li class="spc-tab-btn">
							<a href="#elements">
								<img class="spc-tab-image-normal" src="<?php echo SPC_ADMIN_URL . 'assets/img/elements-normal.svg'; ?>">
								<img class="spc-tab-image-active" src="<?php echo SPC_ADMIN_URL . 'assets/img/elements-active.svg'; ?>">
								<span><?php _e( 'Blocks', 'shop-cred' ); ?></span>
							</a>
						</li>
                        
						
						<div class="active-switcher"></div>
                    </ul>
                    <?php include_once SPC_ADMIN . 'templates/general.php'; ?>
                    <?php include_once SPC_ADMIN . 'templates/blocks.php'; ?>
                </div>
            </form> <!-- Form End -->
        </div>
    <?php

	}


	/**
	 * Saving widgets status with ajax request
	 * @param
	 * @return  array
	 * @since 1.0.0
	 */
	public function ajax_save_elements_setting_function() {

		check_ajax_referer( 'spc_settings_nonce_action', 'security' );

		if( isset( $_POST['fields'] ) ) {
			parse_str( $_POST['fields'], $settings );
		} else {
			return;
		}

		$this->save_dashboard_settings = [];


		foreach( ShopCred_Manager::$all_feature_array as $value ) {
			if ( array_key_exists( $value, $settings ) ) {
				$this->save_dashboard_settings[ $value ] = 1;
			} else {
				$this->save_dashboard_settings[ $value ] = 0;
			}
		}

        update_option( 'spc_save_settings', $this->save_dashboard_settings );        
        
		wp_die();
			
	}

}

new ShopCred_Dashboard();